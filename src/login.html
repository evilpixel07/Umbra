<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Login</title>
  <link rel="stylesheet" href="css/styles.css" />
  
  <!-- EmailJS SDK -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  <script type="text/javascript">
    (function() {
      // Initialize EmailJS with Public Key
      emailjs.init({
        publicKey: "ZZWBa0FSFYsiXo1cL",
      });
    })();
  </script>
</head>
<body class="login-page">
  <div class="split-layout">
    <div class="left-panel">
      <div class="brand-logo">
        <svg viewBox="0 0 100 120" fill="none" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="shieldGrad" x1="50" y1="0" x2="50" y2="120" gradientUnits="userSpaceOnUse">
              <stop offset="0%" stop-color="#3b82f6" />
              <stop offset="100%" stop-color="#06b6d4" />
            </linearGradient>
            <filter id="shadowGlow" x="-50%" y="-50%" width="200%" height="200%">
               <feDropShadow dx="0" dy="0" stdDeviation="5" flood-color="rgba(6,182,212,0.5)"/>
            </filter>
          </defs>
          <!-- Outer Shield -->
          <path d="M50 115C85 105 95 75 95 35L50 10L5 35C5 75 15 105 50 115Z" 
                fill="url(#shieldGrad)" stroke="rgba(255,255,255,0.2)" stroke-width="2" filter="url(#shadowGlow)"/>
          <!-- Inner Core / "U" shape suggestion -->
          <path d="M50 100C75 92 82 70 82 40L50 22L18 40C18 70 25 92 50 100Z" 
                fill="rgba(0,0,0,0.2)"/>
          <!-- Highlight curve -->
          <path d="M50 28L70 39C70 65 65 82 50 88V28Z" fill="rgba(255,255,255,0.1)"/>
          <!-- Central U-like lock symbol -->
          <path d="M50 45V75M38 55C38 55 42 62 50 62C58 62 62 55 62 55" 
                stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      <div class="brand-text">UMBRA</div>
    </div>
    
    <div class="right-panel">
      <div class="container">
        <div class="glass-box" id="card" role="form" aria-labelledby="loginTitle">
          <h2 id="loginTitle">Login into your Account</h2>

          <form id="loginForm" novalidate>
            <div class="input-box">
              <input id="email" type="email" required autocomplete="username" />
              <label for="email">Email address</label>
              <span class="icon" aria-hidden="true">‚úâÔ∏è</span>
            </div>

            <div class="input-box">
              <input id="password" type="password" required autocomplete="current-password" minlength="6" />
              <label for="password">Password</label>
              <span class="icon" aria-hidden="true">üîí</span>
            </div>

            <button type="submit" class="btn ripple">Sign In</button>

            <p class="register">Don't have an account? <a href="signup.html">Signup</a></p>
          </form>

          <div id="otp-section" class="hidden">
            <div id="pre-otp">
              <p style="margin-bottom: 20px; color: rgba(255,255,255,0.8);">Verify it's you to continue.</p>
              <button id="generate-otp" class="btn ripple secondary">Generate OTP</button>
            </div>

            <div id="otp-entry" class="hidden">
              <div class="input-box">
                <input id="otp-input" type="text" maxlength="6" inputmode="numeric" placeholder=" " required />
                <label for="otp-input">Enter 6-digit Code</label>
                <span class="icon">üîë</span>
              </div>
              <p id="timer" style="color: #64748b; font-size: 14px; margin-bottom: 10px;">Expires in 3:00</p>
              
              <button id="verify-otp" class="btn ripple">Verify & Login</button>
              
              <p style="margin-top: 15px; font-size: 13px;">
                Didn't get it? <a href="#" id="resend-otp" style="color: #06b6d4;">Resend OTP</a>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="js/login.js"></script>
</body>
</html>
